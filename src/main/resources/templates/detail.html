<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <title>Tender Detail</title>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/tenderDetails.css">
  <link rel="stylesheet" type="text/css" href="/navbar.css">
</head>

<body>
  <div th:insert="~{fragments :: headerFragment}"></div>
  <h1>Tender Detail</h1>
  <div class="container" th:classappend="${tender.isActive ? 'active' : 'inactive'}">
    <h2 th:text="${tender.title}">Tender Title</h2>
    <p>Owner: <span th:text="${tender.owner.username}">Tender Owner</span></p>
    <p th:text="${tender.description}">Tender Description</p>
    <p>Keywords:
      <br>
      <span th:each="keyword, iterStat : ${tender.keywords}">
        <span th:text="${keyword}">Keyword</span>
        <span th:if="${!iterStat.last}">, </span>
      </span>
    </p>

    <div class="button-group">
      <form th:action="@{'/tenders' + '/toggleActive/' + ${tender.id}}" method="post">
        <button type="submit" class="toggle-btn" th:classappend="${tender.isActive ? 'deactivate-btn' : 'activate-btn'}"
          th:text="${tender.isActive ? 'Deactivate' : 'Activate'}">
        </button>
      </form>

      <form th:action="@{'/tenders/' + ${tender.id}}" method="post"
        onsubmit="return confirm('Are you sure you want to delete this tender?');">
        <input type="hidden" name="_method" value="delete" />
        <button type="submit" class="delete-btn">Delete</button>
      </form>
    </div>
  </div>
</body>

</html>